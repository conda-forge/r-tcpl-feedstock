{% set version = "3.2.1" %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-tcpl
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/tcpl_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/tcpl/tcpl_{{ version }}.tar.gz
  sha256: 73dcf3e81e4c5d904a467c12690e6074fe06379c1932826eca723e3e0d616f59

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-dbi
    - r-rcolorbrewer
    - r-rmariadb
    - r-ctxr
    - r-data.table >=1.15.0
    - r-dplyr
    - r-ggplot2
    - r-gridextra
    - r-numderiv
    - r-plotly
    - r-rlang
    - r-sqldf
    - r-stringr
    - r-tcplfit2
    - r-tidyr
  run:
    - r-base
    - r-dbi
    - r-rcolorbrewer
    - r-rmariadb
    - r-ctxr
    - r-data.table >=1.15.0
    - r-dplyr
    - r-ggplot2
    - r-gridextra
    - r-numderiv
    - r-plotly
    - r-rlang
    - r-sqldf
    - r-stringr
    - r-tcplfit2
    - r-tidyr

test:
  commands:
    - $R -e "library('tcpl')"           # [not win]
    - "\"%R%\" -e \"library('tcpl')\""  # [win]

about:
  home: https://github.com/USEPA/CompTox-ToxCast-tcpl
  license: MIT
  summary: A set of tools for processing and modeling high-throughput and high-content chemical screening data. The package was developed for the the chemical screening data generated by the US EPA ToxCast program, but can be used for diverse chemical screening efforts.
  license_family: MIT
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/MIT
    - LICENSE

extra:
  recipe-maintainers:
    - conda-forge/r
    - mfakaehler
